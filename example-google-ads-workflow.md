# Example: Google Ads Workflow

Complete implementation of an automated Google Ads monitoring and optimization workflow using Adsroid.

## Scenario

**Company:** E-commerce business running 12 Google Ads campaigns  
**Problem:** Manual campaign monitoring takes 1+ hours daily and optimizations are reactive  
**Goal:** Automate daily performance analysis and receive actionable recommendations each morning

## Solution Architecture

```
Daily Schedule (8am) 
    â†’ Adsroid API (analyze campaigns)
    â†’ Parse recommendations
    â†’ Post to Slack
    â†’ Log to Google Sheets
    â†’ Create Asana tasks for high-priority items
```

## Implementation

### Step 1: Define Requirements

**What we need to know each morning:**
1. Which campaigns underperformed yesterday?
2. Are any campaigns at risk of budget exhaustion?
3. Which keywords should be optimized?
4. Are there any Quality Score issues?
5. What are the top 3 priorities for today?

### Step 2: Craft the Adsroid Query

```json
{
  "organisation_id": "3f938ddc-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "project_id": "0392b0c1-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "message": "Analyze all Google Ads campaigns from yesterday. Identify: 1) campaigns with CPA above $50, 2) campaigns spending >5% per day, 3) keywords with QS below 5, 4) campaigns with CTR below 2%. For each issue, recommend specific fix. Rank top 3 priorities for today."
}
```

### Step 3: Python Script Implementation

```python
import requests
import os
from datetime import datetime
import json

# Configuration
ADSROID_API_URL = 'https://rckoycauuwzdryvkjpac.supabase.co/functions/v1/adsroid'
ADSROID_API_KEY = os.environ['ADSROID_API_KEY']
ORG_ID = os.environ['ADSROID_ORG_ID']
PROJECT_ID = os.environ['ADSROID_PROJECT_ID']
SLACK_WEBHOOK = os.environ['SLACK_WEBHOOK_URL']

def analyze_google_ads_performance():
    """Call Adsroid API to analyze yesterday's performance"""
    
    payload = {
        'organisation_id': ORG_ID,
        'project_id': PROJECT_ID,
        'message': """Analyze all Google Ads campaigns from yesterday.
        
        Identify:
        1) campaigns with CPA above $50
        2) campaigns spending >5% per day
        3) keywords with Quality Score below 5
        4) campaigns with CTR below 2%
        
        For each issue, recommend specific fix.
        Rank top 3 priorities for today."""
    }
    
    headers = {
        'Authorization': f'Bearer {ADSROID_API_KEY}',
        'Content-Type': 'application/json'
    }
    
    try:
        response = requests.post(
            ADSROID_API_URL,
            headers=headers,
            json=payload,
            timeout=30
        )
        response.raise_for_status()
        return response.json()
        
    except requests.exceptions.Timeout:
        print("Adsroid API request timed out")
        return None
    except requests.exceptions.RequestException as e:
        print(f"Adsroid API error: {e}")
        return None

def post_to_slack(message):
    """Post analysis results to Slack"""
    
    slack_payload = {
        'text': 'ðŸš€ Daily Google Ads Analysis',
        'blocks': [
            {
                'type': 'header',
                'text': {
                    'type': 'plain_text',
                    'text': 'ðŸ“Š Daily Google Ads Analysis'
                }
            },
            {
                'type': 'section',
                'text': {
                    'type': 'mrkdwn',
                    'text': message
                }
            },
            {
                'type': 'context',
                'elements': [
                    {
                        'type': 'mrkdwn',
                        'text': f'Generated by Adsroid at {datetime.now().strftime("%Y-%m-%d %H:%M")}'
                    }
                ]
            }
        ]
    }
    
    try:
        response = requests.post(
            SLACK_WEBHOOK,
            json=slack_payload,
            timeout=10
        )
        response.raise_for_status()
        print("Posted to Slack successfully")
    except requests.exceptions.RequestException as e:
        print(f"Slack posting error: {e}")

def log_to_google_sheets(analysis):
    """Log analysis to Google Sheets for historical tracking"""
    # Implementation depends on your Google Sheets setup
    # Use gspread library or Google Sheets API
    pass

def create_asana_tasks_from_priorities(analysis):
    """Parse priorities and create Asana tasks"""
    # Extract priorities from analysis text
    # Create tasks via Asana API
    pass

def main():
    print(f"Starting daily Google Ads analysis at {datetime.now()}")
    
    # Step 1: Get analysis from Adsroid
    result = analyze_google_ads_performance()
    
    if not result or result.get('status') != 200:
        print("Failed to get analysis from Adsroid")
        return
    
    analysis_text = result.get('message', '')
    
    # Step 2: Post to Slack
    post_to_slack(analysis_text)
    
    # Step 3: Log to Google Sheets
    log_to_google_sheets(analysis_text)
    
    # Step 4: Create tasks for high-priority items
    create_asana_tasks_from_priorities(analysis_text)
    
    print("Daily analysis complete")

if __name__ == "__main__":
    main()
```

### Step 4: Schedule with Cron

```bash
# Run every day at 8am
0 8 * * * /usr/bin/python3 /path/to/google_ads_analysis.py >> /var/log/adsroid_daily.log 2>&1
```

## Example API Response

```json
{
  "status": 200,
  "message": "Google Ads Performance Analysis - Yesterday (Feb 4, 2024)\n\n=== PERFORMANCE SUMMARY ===\nTotal Spend: $1,247\nTotal Conversions: 31\nAverage CPA: $40.23\n\n=== ISSUES IDENTIFIED ===\n\n1. HIGH CPA CAMPAIGNS (above $50 threshold):\n   \n   Campaign: 'Product - Generic Keywords'\n   - Spend: $320\n   - Conversions: 4\n   - CPA: $80.00\n   - Issue: Low CTR (1.3%) and poor Quality Score on main keywords\n   - Recommendation: Pause 3 broad match keywords with QS<4. Increase negative keyword coverage. Test new ad copy focused on product benefits.\n   \n   Campaign: 'Brand + Competitor'\n   - Spend: $125\n   - Conversions: 2  \n   - CPA: $62.50\n   - Issue: Competitor terms have high CPC and low conversion rate\n   - Recommendation: Reduce bids by 40% on competitor terms or pause if CPA doesn't improve within 7 days.\n\n2. BUDGET PACING CONCERNS:\n   \n   Campaign: 'Brand Search'\n   - Current pace: 6.1% of monthly budget per day\n   - Projection: Budget exhausted by day 16 of month\n   - Recommendation: Reduce daily budget from $80 to $60 to maintain month-end pacing. Investigate cause of increased volume.\n\n3. QUALITY SCORE ISSUES:\n   \n   4 keywords with QS below 5 detected:\n   - 'best [product]' (QS: 3) - Low landing page relevance\n   - 'cheap [product]' (QS: 4) - Expected CTR below average\n   - '[product] comparison' (QS: 4) - Ad relevance issue\n   - 'buy [product] online' (QS: 3) - Multiple issues\n   \n   Recommendation: Create dedicated landing pages for bottom 2 keywords. Review ad copy for middle 2 keywords to improve relevance signals.\n\n4. LOW CTR CAMPAIGNS (below 2% threshold):\n   \n   Campaign: 'Display Remarketing'\n   - CTR: 0.8%\n   - Ad fatigue likely - running same creative for 45 days\n   - Recommendation: Refresh creative assets immediately. Test 3 new variations with different value propositions.\n\n=== TOP 3 PRIORITIES FOR TODAY ===\n\n1. [HIGH IMPACT] Fix 'Product - Generic Keywords' campaign\n   - Pause underperforming broad match keywords\n   - Add 20+ negative keywords\n   - This campaign is 25% of daily spend but only 13% of conversions\n   \n2. [MEDIUM IMPACT] Adjust 'Brand Search' budget pacing\n   - Reduce daily budget to prevent early month exhaustion\n   - Monitor volume trends - may indicate seasonality\n   \n3. [QUICK WIN] Refresh Display Remarketing creative\n   - Creative fatigue is clear based on 45-day run + declining CTR\n   - New assets should improve performance within 48 hours"
}
```

## Step 5: Slack Output Formatting

The script posts formatted output to Slack:

```
ðŸ“Š Daily Google Ads Analysis

Google Ads Performance Analysis - Yesterday (Feb 4, 2024)

=== PERFORMANCE SUMMARY ===
Total Spend: $1,247
Total Conversions: 31
Average CPA: $40.23

[...full analysis...]

=== TOP 3 PRIORITIES FOR TODAY ===

1. [HIGH IMPACT] Fix 'Product - Generic Keywords' campaign
2. [MEDIUM IMPACT] Adjust 'Brand Search' budget pacing
3. [QUICK WIN] Refresh Display Remarketing creative

Generated by Adsroid at 2024-02-05 08:00
```

## Outcome

**Time saved:** 60 minutes per day â†’ Fully automated  
**Consistency:** Analysis runs every day without fail  
**Actionability:** Clear priorities ranked by impact  
**Visibility:** Entire team sees analysis in Slack  
**Historical data:** Google Sheets log for trend analysis

## Variations and Extensions

### Variation 1: Alert-Only Mode

Modify to only send alerts when issues are detected:

```python
if 'HIGH IMPACT' in analysis_text or 'CRITICAL' in analysis_text:
    post_to_slack(analysis_text)
else:
    print("No critical issues today")
```

### Variation 2: Campaign-Specific Deep Dives

After daily summary, trigger detailed analysis of flagged campaigns:

```python
if 'Product - Generic Keywords' in analysis_text:
    deep_dive = analyze_campaign_details('Product - Generic Keywords')
    post_to_slack(deep_dive)
```

### Variation 3: Weekly Comparison

On Mondays, include week-over-week comparison:

```python
if datetime.now().weekday() == 0:  # Monday
    payload['message'] += " Also compare last week's performance to the previous week."
```

### Variation 4: Multi-Platform

Expand to include Meta Ads and LinkedIn:

```python
payload['message'] = """
Analyze Google Ads, Meta Ads, and LinkedIn Ads from yesterday.
Compare platform performance. Which platform had best ROAS?
Identify top 3 priorities across all platforms.
"""
```

## Troubleshooting

### Issue: Analysis Too Generic

**Solution:** Make query more specific

```python
payload['message'] = """
Analyze Google Ads campaigns from yesterday.

Context: Our target CPA is $50. Our best-performing campaigns 
typically have CTR above 3% and QS above 7.

Identify campaigns deviating from these benchmarks and explain why.
"""
```

### Issue: Response Too Long for Slack

**Solution:** Request summary format

```python
payload['message'] += " Provide concise summary suitable for Slack (under 500 words)."
```

### Issue: Want Structured Data

**Solution:** Request specific format

```python
payload['message'] += """
Format response as:
- Summary (2 sentences)
- Issues (bullet list)
- Top 3 priorities (numbered list)
"""
```

## Cost Analysis

**Manual approach:**
- Time: 60 minutes/day Ã— 22 working days = 22 hours/month
- Cost (at $50/hour): $1,100/month

**Automated with Adsroid:**
- Time: 5 minutes/day (review output) = 1.8 hours/month
- Cost: ~20 API calls/month Ã— 3 credits = 60 credits (~$15)
- Savings: $1,000+/month

## Next Steps

1. Deploy script to server or use cloud function (AWS Lambda, Google Cloud Functions)
2. Set up monitoring to alert if script fails
3. Collect feedback from team on report usefulness
4. Iterate on query to improve recommendations
5. Consider expanding to include budget recommendations, keyword research, or competitive analysis
